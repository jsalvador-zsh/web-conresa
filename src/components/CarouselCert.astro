---
import img1 from "../images/logos/logo-1.webp";
import img2 from "../images/logos/logo-2.webp";
import img3 from "../images/logos/logo-3.webp";
import img4 from "../images/logos/logo-4.webp";
import img5 from "../images/logos/logo-5.webp";
import img6 from "../images/logos/logo-6.webp";
import img7 from "../images/logos/logo-7.webp";
import img8 from "../images/logos/logo-8.webp";
import img9 from "../images/logos/logo-9.webp";
import img10 from "../images/logos/logo-10.webp";

import { Image } from "astro:assets";

const logos = [
  { image: img1, alt: "Logo de Mincentur" },
  { image: img2, alt: "Logo de Agencia de viajes y turismo registrada" },
  { image: img3, alt: "Logo de Cámara de comercio Arequipa" },
  { image: img4, alt: "Logo de Cámara de comercio Lima" },
  { image: img5, alt: "Logo de AVIT" },
  { image: img6, alt: "Logo de APAVIT" },
  { image: img7, alt: "Logo de Safe Travels" },
  { image: img8, alt: "Logo de Marca Perú" },
  { image: img9, alt: "Logo de PromPerú" },
  { image: img10, alt: "Logo de Y tú que planes" },

];

const duplicatedLogos = [...logos, ...logos];
---

<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
  <h2 class="text-center text-2xl font-bold mb-8">Nuestras acreditaciones</h2>

  <div class="relative overflow-hidden">
    <!-- Efecto degradado en los bordes -->
    <div class="absolute inset-y-0 left-0 w-20 bg-gradient-to-r from-white to-transparent z-10"></div>
    <div class="absolute inset-y-0 right-0 w-20 bg-gradient-to-l from-white to-transparent z-10"></div>

    <!-- Carousel -->
    <div class="flex items-center">
      <div class="flex shrink-0 animate-infinite-scroll items-center justify-around gap-x-8 [&>img]:mx-4 [&>img]:max-w-none">
        {duplicatedLogos.map((logo, index) => (
          <div class="px-4" data-key={`first-${index}`}>
            <Image
              src={logo.image}
              alt={index < logos.length ? logo.alt : ""}
              class="h-16 w-auto object-contain transition-all hover:opacity-100 hover:scale-105 sm:h-20 md:h-24"
              loading={index < logos.length ? "lazy" : "eager"}
              decoding="async"
              aria-hidden={index >= logos.length}
            />
          </div>
        ))}
      </div>
      
      <div class="flex shrink-0 animate-infinite-scroll items-center justify-around gap-x-8 [&>img]:mx-4 [&>img]:max-w-none" aria-hidden="true">
        {duplicatedLogos.map((logo, index) => (
          <div class="px-4" data-key={`second-${index}`}>
            <Image
              src={logo.image}
              alt=""
              class="h-16 w-auto object-contain transition-all hover:opacity-100 hover:scale-105 sm:h-20 md:h-24"
              loading="eager"
              decoding="async"
              aria-hidden="true"
            />
          </div>
        ))}
      </div>
    </div>
  </div>
</div>

<style is:global>
  @keyframes infinite-scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }

  .animate-infinite-scroll {
    animation: infinite-scroll 45s linear infinite;
  }

  @media (max-width: 768px) {
    .animate-infinite-scroll {
      animation-duration: 50s;
    }
  }

  @media (max-width: 640px) {
    .animate-infinite-scroll {
      animation-duration: 45s;
    }
  }
</style>