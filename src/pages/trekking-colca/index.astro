---
// src/pages/trekking-colca/index.astro
import Layout from "../../layouts/Layout.astro";
import trekkingData from "../../data/trekking_colca.json";
import Time from "../../icons/Time.astro";
import { Image } from "astro:assets";

// Tipos
type TrekkingTour = {
  id: string;
  title: string;
  duration: string;
  modality: string;
  departure: string;
  return: string;
  audience: string;
};

interface ToursData {
  tours: TrekkingTour[];
}

// Cargar datos
const { tours } = trekkingData as ToursData;

// Importar imágenes (asegúrate de tener estas imágenes en tu proyecto)
import trekking1 from "../../images/paquetes-arequipa/valle-colca.jpg";
import trekking2 from "../../images/paquetes-arequipa/valle-colca-2.jpg";
import trekking3 from "../../images/paquetes-arequipa/valle-colca-3.jpg";
import trekking4 from "../../images/paquetes-arequipa/valle-colca-4.jpg";
import condor from "../../images/paquetes-arequipa/condor.jpg";

// Mapeo de imágenes por tour ID
const obtenerImagenTour = (id: string) => {
  const imagenes: Record<string, any> = {
    "trekking-colca-san-miguel-chuccho-sangalle": trekking1,
    "trekking-colca-sangalle-2d": trekking2,
    "trekking-colca-chimpa-achachihua": trekking3,
    "trekking-colca-sangalle-grupal-2d": trekking4,
    "trekking-colca-sangalle-grupal-3d": condor
  };
  
  return imagenes[id] || trekking1; // Imagen por defecto
};
---

<Layout title="Trekking en el Cañón del Colca" description="Descubre nuestras rutas de trekking en uno de los cañones más profundos del mundo. Experiencias únicas para todos los niveles.">
  <div class="min-h-screen py-12 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Encabezado -->
      <div class="text-center mb-16 animate-fade-in">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">
          Trekking en el <span class="text-[#468E8E]">Cañón del Colca</span>
        </h1>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          Experiencias inolvidables en uno de los destinos naturales más impresionantes del Perú
        </p>
      </div>

      <!-- Grid de Tours -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {tours.map((tour, index) => (
          <a
            href={`/trekking-colca/${tour.id}`}
            class="group relative bg-white shadow-lg rounded-xl overflow-hidden transform transition-all duration-500 hover:shadow-2xl hover:-translate-y-2"
            style={`animation-delay: ${index * 100}ms`}
          >
            <!-- Imagen del tour -->
            <div class="relative h-56 overflow-hidden">
              <Image
                src={obtenerImagenTour(tour.id)}
                alt={tour.title}
                class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                width={400}
                height={225}
                format="webp"
                loading="lazy"
              />
              <span class="absolute top-4 right-4 bg-[#468E8E]/90 text-white text-xs font-medium px-3 py-1 rounded-full">
                {tour.modality}
              </span>
            </div>
            
            <!-- Contenido de la card -->
            <div class="p-6">
              <h3 class="text-xl font-bold text-gray-800 mb-2 line-clamp-2">
                {tour.title}
              </h3>
              
              <div class="flex items-center text-[#468E8E] font-medium mb-3">
                <Time class="w-5 h-5 mr-2" />
                {tour.duration}
              </div>
              
              <div class="flex flex-wrap gap-2 mb-3">
                <span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded">
                  Salida: {tour.departure}
                </span>
                <span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded">
                  Retorno: {tour.return}
                </span>
              </div>
              
              <div class="flex items-center">
                <span class="text-sm text-gray-600">
                  Para: {tour.audience}
                </span>
              </div>
            </div>
          </a>
        ))}
      </div>

      <!-- Información adicional -->
      <div class="mt-16 bg-white p-8 rounded-xl shadow-md">
        <h2 class="text-2xl font-bold text-[#468E8E] mb-4">¿Por qué hacer trekking en el Colca?</h2>
        <p class="text-gray-700 mb-4">
          El Cañón del Colca es uno de los destinos más espectaculares para trekking en Perú, con paisajes que van desde altiplanos andinos hasta profundos cañones y oasis tropicales.
        </p>
        <ul class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <li class="flex items-start">
            <svg class="h-5 w-5 text-[#468E8E] mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span>Avistamiento de cóndores en su hábitat natural</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-[#468E8E] mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span>Baños termales naturales para relajarse</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-[#468E8E] mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span>Cultura viva de comunidades Collaguas y Cabana</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-[#468E8E] mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span>Andenerías preincas declaradas Patrimonio Agrícola Mundial</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
</Layout>

<style>
  /* Animaciones */
  .animate-fade-in {
    animation: fadeIn 1s ease-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  /* Efectos hover */
  .group:hover .group-hover\:scale-110 {
    transform: scale(1.1);
  }
  
  /* Limitar texto a 2 líneas */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Responsive */
  @media (max-width: 768px) {
    .text-4xl {
      font-size: 2rem;
    }
  }
</style>